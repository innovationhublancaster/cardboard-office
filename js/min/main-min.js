function init(){function e(){cover.style.display="none",coverActive=!1,effect=new THREE.StereoEffect(renderer),controls.autoRotate=!1}function t(e){e.alpha&&1!=coverActive&&(controls=new THREE.DeviceOrientationControls(camera,!0),controls.connect(),controls.update(),element.addEventListener("click",fullscreen,!1),window.removeEventListener("deviceorientation",t,!0))}renderer=new THREE.WebGLRenderer,element=renderer.domElement,container=document.getElementById("office"),container.appendChild(element),cover=document.getElementById("cover"),start=document.getElementById("start"),start.addEventListener("click",e,!1),effect=new THREE.StereoEffect(renderer),scene=new THREE.Scene,width=window.innerWidth,height=window.innerHeight,camera=new THREE.PerspectiveCamera(75,width/height,.001,700),camera.position.set(0,0,0),scene.add(camera),controls=new THREE.OrbitControls(camera,element),controls.rotateUp(Math.PI/40),controls.target.set(camera.position.x+.1,camera.position.y,camera.position.z),controls.noZoom=!0,controls.noPan=!0,controls.autoRotate=!0,controls.autoRotateSpeed=.5,window.addEventListener("deviceorientation",t,!0);var r=THREE.ImageUtils.loadTexture("images/office.jpg"),n=new THREE.Mesh(new THREE.SphereGeometry(400,32,20),new THREE.MeshBasicMaterial({map:r}));r.minFilter=THREE.LinearFilter,r.magFilter=THREE.LinearFilter,n.scale.x=-1,n.transparent=!1,scene.add(n);var i=THREE.ImageUtils.loadTexture("images/info1.png");i.minFilter=THREE.LinearFilter,i.magFilter=THREE.LinearFilter;var a=new THREE.SpriteMaterial({map:i,color:16777215,fog:!1}),o=THREE.ImageUtils.loadTexture("images/info2.png");o.minFilter=THREE.LinearFilter,o.magFilter=THREE.LinearFilter;var s=new THREE.SpriteMaterial({map:o,color:16777215,fog:!1}),c=THREE.ImageUtils.loadTexture("images/info3.png");c.minFilter=THREE.LinearFilter,c.magFilter=THREE.LinearFilter;var l=new THREE.SpriteMaterial({map:c,color:16777215,fog:!1}),E=THREE.ImageUtils.loadTexture("images/info4.png");E.minFilter=THREE.LinearFilter,E.magFilter=THREE.LinearFilter;var m=new THREE.SpriteMaterial({map:E,color:16777215,fog:!1}),d=THREE.ImageUtils.loadTexture("images/info5.png");d.minFilter=THREE.LinearFilter,d.magFilter=THREE.LinearFilter;var p=new THREE.SpriteMaterial({map:d,color:16777215,fog:!1}),R=THREE.ImageUtils.loadTexture("images/info6.png");R.minFilter=THREE.LinearFilter,R.magFilter=THREE.LinearFilter;var T=new THREE.SpriteMaterial({map:R,color:16777215,fog:!1}),H=THREE.ImageUtils.loadTexture("images/info7.png");H.minFilter=THREE.LinearFilter,H.magFilter=THREE.LinearFilter;var g=new THREE.SpriteMaterial({map:H,color:16777215,fog:!1}),u=new THREE.Sprite(a);u.position.set(280,180,50),u.scale.set(125,125,0),u.transparent=!1,scene.add(u);var f=new THREE.Sprite(s);f.position.set(200,-50,150),f.scale.set(90,90,0),f.transparent=!1,scene.add(f);var F=new THREE.Sprite(l);F.position.set(50,0,280),F.scale.set(100,100,0),F.transparent=!1,scene.add(F);var w=new THREE.Sprite(m);w.position.set(-160,100,240),w.scale.set(105,105,0),w.transparent=!1,scene.add(w);var v=new THREE.Sprite(p);v.position.set(-250,150,100),v.scale.set(100,100,0),v.transparent=!1,scene.add(v);var S=new THREE.Sprite(T);S.position.set(-250,130,-200),S.scale.set(120,120,0),S.transparent=!1,scene.add(S);var L=new THREE.Sprite(g);L.position.set(200,0,-230),L.scale.set(125,125,0),L.transparent=!1,scene.add(L),window.addEventListener("resize",resize,!1),setTimeout(resize,1)}function resize(){var e=container.offsetWidth,t=container.offsetHeight;camera.aspect=e/t,camera.updateProjectionMatrix(),renderer.setSize(e,t),effect.setSize(e,t)}function update(e){resize(),camera.updateProjectionMatrix(),controls.update(e)}function render(e){effect.render(scene,camera)}function animate(e){requestAnimationFrame(animate),update(clock.getDelta()),render(clock.getDelta())}function fullscreen(){container.requestFullscreen?container.requestFullscreen():container.msRequestFullscreen?container.msRequestFullscreen():container.mozRequestFullScreen?container.mozRequestFullScreen():container.webkitRequestFullscreen&&container.webkitRequestFullscreen()}var camera,scene,renderer,effect,controls,element,container,cover,coverActive=!0,clock=new THREE.Clock;init(),animate();